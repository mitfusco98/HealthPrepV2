Health-Prep v2 - Technical Design Document (TDD)

Purpose:
Health-Prep is a real-time prep sheet generation engine designed to integrate with FHIR-based EMRs (e.g., Epic). It parses incoming patient documents and data, determines eligibility for medical screenings based on customizable logic, and generates prep sheets reflecting the patient's care status.

Core Logic Summary:

* Screening engine analyzes user-defined screening types.
* Keywords match against document names and content (via OCR).
* Eligibility for screenings determined by patient gender, age, and conditions.
* Frequency and date of last screening define compliance (Complete, Due, Due Soon).
* Document matching is used to update screening status dynamically.

Screening Engine Features:

* Fuzzy detection: recognizes equivalent terms in filenames (e.g., "dxa", "dexa") and EMR data.
* Screening type variants: allow different protocols based on patient trigger conditions.
* CRUD operations for screening types: add/edit/delete.
* Status toggling for screening types (active/inactive).
* Specialty preset import: allows rapid setup of screening logic.
* Selective refreshing: only refreshes parts of screening list that are affected by changes.

Screening List Output:

* Displays: Patient name, screening type, status, last completed date, frequency, matched documents.
* Filterable by: Patient, status, and screening type.

Prep Sheet Settings:

* Defines data cutoff for labs, imaging, consults, hospital visits.
* Frequency-based filtering for screening documents.
* Filters documents older than the defined frequency period.

Prep Sheet Template Structure:

1. Patient Header: Name, MRN, DOB, sex, last visit, prep date.
2. Summary: Appointments, active conditions.
3. Medical Data: Labs, imaging, consults, hospital stays.
4. Quality Checklist: Screening type, status, frequency, matched documents.
5. Enhanced Data: Filtered, clickable documents per section.

Admin Dashboard:

* Activity logs, user management, screening preset control.
* Log export and filterable history.

OCR System:

* Auto OCR upon upload.
* Quality/confidence scoring.
* Monitoring dashboard with pending queue and processing stats.
* HIPAA-compliant Tesseract OCR backend.

PHI Filtering:

* Toggle for redaction.
* Regex-based pattern removal (SSN, MRN, phone, etc.).
* Preserves clinical values.
* Includes audit trail, before/after preview, exportable config.

Business and Scalability Goals:

* ROI-based pricing based on time saved.
* Market fit: single clinics, physician groups, hospitals.
* Value transparency: display hours saved, gaps closed.
* Onboarding via Epic admin credentials.

Scalability:

* Batch automation for 500+ patients.
* Multi-tenant architecture.
* FHIR-integrated design.
* Async document parsing.

Performance:

* Prep generation in <10s per patient.
* 99.9% uptime.
* Real-time sync (<30m delay).
* 95%+ document classification accuracy.

Security and HIPAA Goals:

1. AES-256 encryption at rest, TLS 1.2+ in transit.
2. MFA and RBAC.
3. Audit logs for all PHI events.
4. Minimum necessary data access only.
5. Session expiry and revocation protocols.
6. Breach detection and 60-day response policy.
7. BAA templates and vendor BAA enforcement.
8. Annual pentests and ongoing vulnerability scans.
9. Workforce HIPAA training.
10. Clear retention and deletion policies.
